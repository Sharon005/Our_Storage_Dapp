{"version":3,"sources":["App.js","components/Navbar.js","components/Main.js","components/UploadFile.js","components/NotConnected.js","index.js"],"names":["auth","Buffer","from","projectId","toString","ipfs","require","create","host","port","protocol","headers","authorization","App","props","_this","Object","C_Users_shaja_OneDrive_Desktop_IPFS_Our_Storage_Dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","C_Users_shaja_OneDrive_Desktop_IPFS_Our_Storage_Dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_shaja_OneDrive_Desktop_IPFS_Our_Storage_Dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","state","account","ourStorageDapp","postCount","allFiles","buffer","fileType","showFileDetails","loading","connected","uploadFile","bind","C_Users_shaja_OneDrive_Desktop_IPFS_Our_Storage_Dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__","captureFile","deleteFile","loadWeb3","window","ethereum","web3","Web3","loadBlockchainData","setState","request","method","accounts","eth","defaultAccount","net","getId","networkId","ourStorageData","OurStorageDapp","networks","Contract","abi","address","loadMyAllFiles","methods","getTotalFileCount","totalFilesCount","i","getFileOf","file","fileName","concat","C_Users_shaja_OneDrive_Desktop_IPFS_Our_Storage_Dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","_id","send","on","hash","console","log","receipt","_ref","C_Users_shaja_OneDrive_Desktop_IPFS_Our_Storage_Dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","C_Users_shaja_OneDrive_Desktop_IPFS_Our_Storage_Dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee5","confirmationNumber","wrap","_context5","prev","next","_this2","stop","_x2","_x3","apply","arguments","error","event","preventDefault","target","files","reader","FileReader","readAsArrayBuffer","onloadend","_this3","result","type","setValues","name","convertBytes","size","_name","_size","fileNameBox","document","getElementById","fileTypeBox","fileSizeBox","value","_des","add","then","_this4","path","_ref2","_callee9","_context9","_x9","_x10","catch","bytes","parseInt","Math","floor","round","pow","react__WEBPACK_IMPORTED_MODULE_9___default","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_10__","className","Fragment","_components_Navbar__WEBPACK_IMPORTED_MODULE_17__","userProfile","role","react_router_dom__WEBPACK_IMPORTED_MODULE_11__","exact","_components_Main__WEBPACK_IMPORTED_MODULE_18__","showDeletedFiles","_components_UploadFile__WEBPACK_IMPORTED_MODULE_19__","_components_NotConnected__WEBPACK_IMPORTED_MODULE_20__","Component","Navbar","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","width","style","borderRadius","height","alt","src","Identicon","__webpack_require__","d","__webpack_exports__","Main","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","class","cellpadding","cellspacing","border","scope","map","key","fileDes","fileSize","UNIX_timestamp","Date","year","getFullYear","month","getMonth","date","getDate","hours","getHours","minutes","getMinutes","ampm","timeConverter","uploadTime","href","fileHash","rel","onClick","fileId","toNumber","confirm","UploadFile","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","history","useHistory","onChange","id","for","maxLength","placeholder","disabled","_fileDes","_fileName","push","NotConnected","r","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_App__WEBPACK_IMPORTED_MODULE_3__","ReactDOM","render"],"mappings":"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","file":"static/js/main.7a81f517.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  HashRouter\r\n} from \"react-router-dom\";\r\n\r\nimport Web3 from 'web3';\r\nimport OurStorageDapp from './abis/OurStorageDapp.json'\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"bootstrap-icons/font/bootstrap-icons.css\"\r\n\r\nimport './components/App.css';\r\nimport Navbar from './components/Navbar'\r\nimport Main from './components/Main'\r\nimport UploadFile from './components/UploadFile'\r\nimport NotConnected from './components/NotConnected'\r\n\r\n\r\nconst projectId = '2MpN2LcvNi2YtCeyOUuRFfa203N'\r\nconst projectSecret = 'b82697405ab5c226cba1ad741e1825b0'\r\nconst auth = 'Basic ' + Buffer.from(projectId + \":\" + projectSecret).toString('base64')\r\n\r\nconst ipfsClient = require('ipfs-http-client')\r\nconst ipfs = ipfsClient.create({ \r\n    host: \"ipfs.infura.io\", \r\n    port: 5001, \r\n    protocol: \"https\",\r\n    headers: {\r\n      authorization: auth\r\n    }\r\n\r\n  });\r\n\r\nclass App extends Component {\r\n\r\n\r\n  async componentWillMount() {\r\n    await this.loadWeb3()\r\n  }\r\n  async loadWeb3() {\r\n\r\n    if (window.ethereum) {\r\n      window.web3 = new Web3(window.ethereum);\r\n\r\n      this.loadBlockchainData()\r\n    } else {\r\n      this.setState({ connected: false })\r\n    }\r\n\r\n  }\r\n\r\n  async loadBlockchainData() {\r\n    const web3 = new Web3(window.ethereum);\r\n\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\r\n    const account = accounts[0];\r\n    web3.eth.defaultAccount = accounts[0];\r\n    this.setState({ account: accounts[0] })\r\n\r\n    const networkId = await web3.eth.net.getId()\r\n    const ourStorageData = OurStorageDapp.networks[networkId]\r\n\r\n    if (ourStorageData) {\r\n      const ourStorageDapp = web3.eth.Contract(OurStorageDapp.abi, ourStorageData.address);\r\n      this.setState({ ourStorageDapp })\r\n      await this.loadMyAllFiles();\r\n      this.setState({ loading: false })\r\n\r\n    } else {\r\n      this.setState({ connected: false })\r\n    }\r\n  }\r\n\r\n  async loadMyAllFiles() {\r\n    this.setState({\r\n      allFiles: []\r\n    })\r\n    const totalFilesCount = await this.state.ourStorageDapp.methods.getTotalFileCount().call();\r\n\r\n    for (let i = totalFilesCount; i >= 1; i--) {\r\n      let file = await this.state.ourStorageDapp.methods.getFileOf(i).call();\r\n      if (file.fileName != \"0deleted_\") {\r\n        this.setState({\r\n          allFiles: [...this.state.allFiles, file]\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  async deleteFile(_id) {\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    this.state.ourStorageDapp.methods.deleteFile(_id)\r\n      .send({ from: this.state.account })\r\n      .on('transactionHash', (hash) => {\r\n        console.log('transactionHash', hash);\r\n      })\r\n      .on('receipt', (receipt) => {\r\n      })\r\n      .on('confirmation', async (confirmationNumber, receipt) => {\r\n        await this.loadMyAllFiles();\r\n        this.setState({\r\n          loading: false\r\n        })\r\n      })\r\n      .on('error', (error, receipt) => {\r\n        console.log('error', error)\r\n        console.log('receipt', receipt)\r\n      });\r\n  }\r\n\r\n  async captureFile(event) {\r\n    event.preventDefault()\r\n    const file = event.target.files[0]\r\n    const reader = new window.FileReader()\r\n    reader.readAsArrayBuffer(file)\r\n    reader.onloadend = () => {\r\n      this.setState({\r\n        buffer: Buffer(reader.result),\r\n        fileType: file.type\r\n      })\r\n      this.setValues(file.name, this.convertBytes(file.size))\r\n    }\r\n  }\r\n  async setValues(_name, _size) {\r\n    const fileNameBox = document.getElementById('fileNameBox');\r\n    const fileTypeBox = document.getElementById('fileTypeBox');\r\n    const fileSizeBox = document.getElementById('fileSizeBox');\r\n\r\n    fileNameBox.value = _name;\r\n    fileTypeBox.value = this.state.fileType;\r\n    fileSizeBox.value = _size;\r\n    this.setState({ showFileDetails: true })\r\n  }\r\n\r\n  async uploadFile(_name, _des) {\r\n    this.setState({ loading: true });\r\n    // Add file to the IPFS\r\n    ipfs.add(this.state.buffer)\r\n      .then(result => {\r\n        this.state.ourStorageDapp.methods.uploadFile(result.path, result.size, this.state.fileType, _name, _des)\r\n          .send({ from: this.state.account })\r\n          .on('transactionHash', (hash) => {\r\n            console.log('transactionHash', hash);\r\n          })\r\n          .on('receipt', (receipt) => {\r\n          })\r\n          .on('confirmation', async (confirmationNumber, receipt) => {\r\n\r\n            await this.loadMyAllFiles();\r\n            this.setState({\r\n              loading: false,\r\n              buffer: '',\r\n              showFileDetails: false\r\n            })\r\n          })\r\n          .on('error', (error, receipt) => {\r\n            console.log('error', error)\r\n            console.log('receipt', receipt)\r\n          });\r\n      })\r\n      .catch(error =>\r\n        console.error(error)\r\n      )\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  convertBytes(bytes) {\r\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n    if (bytes === 0) return '0 Byte';\r\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\r\n    return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\r\n  }\r\n\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      account: '',\r\n      ourStorageDapp: null,\r\n      postCount: 0,\r\n      allFiles: [],\r\n      buffer: '',\r\n      fileType: '',\r\n      showFileDetails: false,\r\n      loading: true,\r\n      connected: true\r\n    }\r\n    this.uploadFile = this.uploadFile.bind(this)\r\n    this.captureFile = this.captureFile.bind(this)\r\n    this.deleteFile = this.deleteFile.bind(this)\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      // <Router>\r\n\r\n      <HashRouter>\r\n        <div className=\"\" >\r\n          {this.state.connected\r\n            ?\r\n            <>\r\n              <Navbar account={this.state.account} userProfile={this.state.userProfile} />\r\n              {this.state.loading\r\n                ?\r\n                <div className=\"text-center m-5\" >\r\n                  <div className=\"spinner-border bg-light m-auto\" role=\"status\">\r\n                  </div>\r\n                </div>\r\n                :\r\n                <Switch>\r\n                  <Route path=\"/\" exact>\r\n                    <Main account={this.state.account} allFiles={this.state.allFiles} deleteFile={this.deleteFile} showDeletedFiles={this.state.showDeletedFiles} />\r\n                  </Route>\r\n\r\n                  <Route path=\"/uploadfiles\" exact>\r\n                    <UploadFile account={this.state.account} uploadFile={this.uploadFile} captureFile={this.captureFile} showFileDetails={this.state.showFileDetails} />\r\n                  </Route>\r\n\r\n                </Switch>\r\n              }\r\n            </>\r\n            :\r\n            <NotConnected />\r\n          }\r\n        </div>\r\n\r\n        {/* </Router> */}\r\n      </HashRouter>//for github pages\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React, { Component } from 'react';\r\nimport {\r\n  Link\r\n} from \"react-router-dom\";\r\nimport Identicon from 'identicon.js';\r\n\r\nclass Navbar extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-transparent \">\r\n        <div className=\"container\">\r\n          <Link className=\"navbar-brand\" to=\"/\"><b>Our Decentralized Storage (ODS)</b></Link>\r\n\r\n          <div className=\"ms-auto d-flex align-items-center text-light\" >\r\n\r\n            <Link to='/uploadfiles' className=\"btn btn-outline-light mr-2\">\r\n              <i className=\"bi bi-plus-circle-dotted\" ></i>\r\n            </Link>\r\n              {this.props.account &&\r\n            <Link to=\"/\"  >\r\n                <img\r\n                  className='ml-2'\r\n                  width='30'\r\n                  style={{ borderRadius: 20 }}\r\n                  height='30'\r\n                  alt=\"logo\"\r\n                  src={`data:image/png;base64,${new Identicon(this.props.account, 30).toString()}`}\r\n                />\r\n            </Link>\r\n              }\r\n\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </nav>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport {\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\nexport default function Main(props) {\r\n  const { allFiles, deleteFile } = props;\r\n\r\n  const convertBytes = (bytes) => {\r\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n    if (bytes === 0) return '0 Byte';\r\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\r\n    return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\r\n  }\r\n\r\n  function timeConverter(UNIX_timestamp) {\r\n    var a = new Date(UNIX_timestamp * 1000);\r\n    var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n    var year = a.getFullYear();\r\n    var month = months[a.getMonth()];\r\n    var date = a.getDate();\r\n    var hours = a.getHours();\r\n    var minutes = a.getMinutes();\r\n\r\n    var ampm = hours >= 12 ? 'pm' : 'am';\r\n    hours = hours % 12;\r\n    hours = hours ? hours : 12; // the hour '0' should be '12'\r\n    minutes = minutes < 10 ? '0' + minutes : minutes;\r\n\r\n    var time = date + ' ' + month + ' ' + year + ' ' + hours + ':' + minutes + ' ' + ampm;\r\n    return time;\r\n  }\r\n\r\n  function deleteFile0(_id) {\r\n    var _isDelete = window.confirm(\"Are you sure you want to delete this file?\");\r\n    if (_isDelete) {\r\n      deleteFile(_id);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container text-center  mt-3 mb-5\">\r\n      <Link to=\"uploadfiles\">\r\n        <button style={{ width: '30%' }} className=\"btn btn-lg btn-outline-warning mt-4 mb-2\">Upload Files Now!</button>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col bg-dark bg-gradient\" style={{ borderRadius: 40 }}>\r\n          <section className=\"m-5\">\r\n            <h1>All Files</h1>\r\n\r\n            <div class=\"tbl-header\" >\r\n              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style={{ width: '100%' }}>\r\n                <thead>\r\n                  <tr className=\"bg-dark text-white\">\r\n                    <th scope=\"col\" style={{ width: '20%' }}>name</th>\r\n                    <th scope=\"col\" style={{ width: '32%' }}>description</th>\r\n                    <th scope=\"col\" style={{ width: '8%' }}>type</th>\r\n                    <th scope=\"col\" style={{ width: '8%' }}>size</th>\r\n                    <th scope=\"col\" style={{ width: '12%' }}>date</th>\r\n                    <th scope=\"col\" style={{ width: '12%' }}>View File</th>\r\n                    <th scope=\"col\" style={{ width: '8%' }}>Delete</th>\r\n                  </tr>\r\n                </thead>\r\n              </table>\r\n            </div>\r\n            <div class=\"tbl-content\">\r\n              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style={{ width: '100%' }}>\r\n                <tbody>\r\n\r\n                  {allFiles &&\r\n                    allFiles.map((file, key) => {\r\n                      return (\r\n                        <tr>\r\n                          <td style={{ width: '20%' }}>{file.fileName}</td>\r\n                          <td style={{ width: '32%' }}>{file.fileDes}</td>\r\n                          <td style={{ width: '8%' }}>{file.fileType}</td>\r\n                          <td style={{ width: '8%' }}>{convertBytes(file.fileSize)}</td>\r\n                          <td style={{ width: '12%' }}>{timeConverter(file.uploadTime)}</td>\r\n                          <td style={{ width: '12%' }}><a href={\"https://cloudfare.infura-ipfs.io/ipfs/\" + file.fileHash} rel=\"noopener noreferrer\" target=\"_blank\" className=\"btn btn-primary\">View</a></td>\r\n                          <td style={{ width: '8%' }}>\r\n                            <button onClick={() => { deleteFile0(file.fileId.toNumber()) }} className=\"btn btn-outline-danger\"><i class=\"bi bi-trash\"></i></button>\r\n                          </td>\r\n                        </tr>\r\n                      )\r\n                    })}\r\n\r\n\r\n                </tbody>\r\n              </table>\r\n\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\n","import React from 'react'\r\nimport {\r\n  useHistory,\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\nexport default function UploadFile(props) {\r\n  let history = useHistory();\r\n\r\n  const { captureFile, uploadFile, showFileDetails} = props;\r\n\r\n  const uploadFile0 = () => {\r\n    const _fileDes = document.getElementById('fileDesBox').value;\r\n    const _fileName = document.getElementById('fileNameBox').value;\r\n    uploadFile(_fileName, _fileDes)\r\n\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"container text-center  mt-3 mb-5\">\r\n      <Link to=\"/\">\r\n        <button style={{ width: '30%' }} className=\"btn btn-lg btn-outline-dark mt-4 mb-2\">Check Uploaded Files</button>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col bg-dark bg-gradient\" style={{ borderRadius: 40 }}>\r\n          <div class=\"m-5\">\r\n            <h1 className=\"\">Upload Your File</h1>\r\n            <div class=\"m-5\" >\r\n              <input class=\"form-control\" onChange={captureFile} type=\"file\" id=\"formFile\" />\r\n            </div>\r\n\r\n            <div className={`mx-5 text-start text-light ${showFileDetails ? \"\" : \"d-none\"}`} id=\"fileDetailsBox\">\r\n              <h6 className=\"text-center text-warning\">File Details:-</h6>\r\n              <div class=\"col-12\">\r\n                <label for=\"fileNameBox\" class=\"form-label\">File Name</label>\r\n                <input type=\"text\" class=\"form-control\" maxLength=\"60\" id=\"fileNameBox\" placeholder=\"type file name here \" />\r\n              </div>\r\n              <div class=\"col-12 mt-2\">\r\n                <label for=\"fileDesBox\" class=\"form-label\">File Description</label>\r\n                <input type=\"text\" class=\"form-control\" maxLength=\"200\" id=\"fileDesBox\" placeholder=\"type file Description here \" />\r\n              </div>\r\n              <div className=\"row mx-2 mt-2\">\r\n                <div class=\"col-6\">\r\n                  <label for=\"fileTypeBox\" class=\"form-label\">File Type</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"fileTypeBox\" placeholder=\"file type\" disabled />\r\n                </div>\r\n                <div class=\"col-6\">\r\n                  <label for=\"fileSizeBox\" class=\"form-label\">File Size</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"fileSizeBox\" placeholder=\"file size\" disabled />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"mt-5 text-center\">\r\n                <button type=\"submit\" onClick={uploadFile0} class=\"btn btn-warning\">Upload File Now</button>\r\n              </div>\r\n            </div>\r\n\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div >\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\n\r\nexport default function NotConnected() {\r\n    return (\r\n        <div className=\"container text-center bg-light my-5\" style={{ borderRadius: 20 }}>\r\n            <h1 className=\"mt-3 text-primary\">Please Connect to Ropsten test network</h1>\r\n            <a href=\"https://faucet.ropsten.be/\" rel=\"noopener noreferrer\" target=\"_blank\" className=\"btn btn-success\">Get free Ether for Ropsten test network</a>\r\n            <h4 className=\"my-3\">Follow these instructions for connect metamask with Ropsten test network</h4>\r\n            <hr />\r\n\r\n            <h6>1. Install  <a href=\"https://metamask.io/download.html\" rel=\"noopener noreferrer\" target=\"_blank\" className=\"btn btn-outline-primary\">Meta-mask</a></h6>\r\n            <h6>2. Create Your Account</h6>\r\n            <h6>3. Connect with Ropsten test network</h6>\r\n            <h6>4. Get Some Free Ether by Ropsten Faucet</h6>\r\n            <hr />\r\n            <img className=\"img-fluid h-50\" src=\"img/ropston.jpg\" alt=\"\" />\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}